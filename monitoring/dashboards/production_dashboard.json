{
  "displayName": "ðŸ›¡ï¸ Sets AI - Global Security & Performance Dashboard",
  "etag": "7be816f85e390c0cc35b47eca4b01d40",
  "mosaicLayout": {
    "columns": 48,
    "tiles": [
      {
        "height": 12,
        "widget": {
          "scorecard": {
            "sparkChartView": {
              "sparkChartType": "SPARK_LINE"
            },
            "timeSeriesQuery": {
              "timeSeriesFilter": {
                "aggregation": {
                  "alignmentPeriod": "3600s",
                  "crossSeriesReducer": "REDUCE_SUM",
                  "perSeriesAligner": "ALIGN_SUM"
                },
                "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\""
              }
            }
          },
          "title": "ðŸŒ Global Requests/Hour"
        },
        "width": 16
      },
      {
        "height": 12,
        "widget": {
          "scorecard": {
            "sparkChartView": {
              "sparkChartType": "SPARK_LINE"
            },
            "timeSeriesQuery": {
              "outputFullDuration": true,
              "timeSeriesFilter": {
                "aggregation": {
                  "alignmentPeriod": "300s",
                  "crossSeriesReducer": "REDUCE_PERCENTILE_95",
                  "perSeriesAligner": "ALIGN_DELTA"
                },
                "filter": "metric.type=\"run.googleapis.com/request_latencies\" resource.type=\"cloud_run_revision\" resource.label.\"service_name\"=\"workout-parser-v2\""
              }
            }
          },
          "title": "âš¡ Global P95 Latency"
        },
        "width": 16,
        "xPos": 16
      },
      {
        "height": 12,
        "widget": {
          "scorecard": {
            "sparkChartView": {
              "sparkChartType": "SPARK_BAR"
            },
            "timeSeriesQuery": {
              "outputFullDuration": true,
              "timeSeriesFilter": {
                "aggregation": {
                  "alignmentPeriod": "3600s",
                  "crossSeriesReducer": "REDUCE_SUM",
                  "perSeriesAligner": "ALIGN_SUM"
                },
                "filter": "metric.type=\"logging.googleapis.com/user/appcheck_invalid_requests\""
              }
            }
          },
          "title": "ðŸš« Global Invalid Tokens"
        },
        "width": 16,
        "xPos": 32
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸš¦ App Check Readiness - Global Verified Requests",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "âœ… Verified/min",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"logging.googleapis.com/user/appcheck_verified_requests\""
                  }
                }
              },
              {
                "legendTemplate": "âŒ Unverified/min",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"logging.googleapis.com/user/appcheck_unverified_requests\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸš« Invalid/min",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"logging.googleapis.com/user/appcheck_invalid_requests\""
                  }
                }
              }
            ],
            "yAxis": {
              "label": "Requests per minute",
              "scale": "LINEAR"
            }
          }
        },
        "width": 24,
        "yPos": 12
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸŒ Regional Performance Comparison",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "ðŸ‡ºðŸ‡¸ US-Central",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"us-central1\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸ—½ US-East",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"us-east1\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸ‡ªðŸ‡º Europe",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"europe-west1\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸŒ Asia-Pacific",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"asia-southeast1\""
                  }
                }
              }
            ],
            "yAxis": {
              "label": "Requests/sec by Region",
              "scale": "LINEAR"
            }
          }
        },
        "width": 24,
        "xPos": 24,
        "yPos": 12
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸ“ˆ Global API Performance Over Time",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "ðŸš€ Global Requests/sec",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\""
                  }
                }
              },
              {
                "legendTemplate": "âš¡ Global P95 Latency",
                "plotType": "LINE",
                "targetAxis": "Y2",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_PERCENTILE_95",
                      "perSeriesAligner": "ALIGN_DELTA"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_latencies\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\""
                  }
                }
              }
            ],
            "y2Axis": {
              "label": "Latency (ms)",
              "scale": "LINEAR"
            },
            "yAxis": {
              "label": "Requests/sec",
              "scale": "LINEAR"
            }
          }
        },
        "width": 48,
        "yPos": 28
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸ”¥ Global Error Rates",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "ðŸš« 4xx Errors",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND metric.labels.response_code_class=\"4xx\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸ’¥ 5xx Errors",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND metric.labels.response_code_class=\"5xx\""
                  }
                }
              }
            ],
            "yAxis": {
              "label": "Errors/sec",
              "scale": "LINEAR"
            }
          }
        },
        "width": 16,
        "yPos": 44
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸ’¾ Global Instance Metrics",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "ðŸ–¥ï¸ Active Instances",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_MEAN"
                    },
                    "filter": "metric.type=\"run.googleapis.com/container/instance_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸ“Š Requests/sec",
                "plotType": "LINE",
                "targetAxis": "Y2",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "perSeriesAligner": "ALIGN_RATE"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\""
                  }
                }
              }
            ],
            "y2Axis": {
              "label": "Requests/sec",
              "scale": "LINEAR"
            },
            "yAxis": {
              "label": "Instance Count",
              "scale": "LINEAR"
            }
          }
        },
        "width": 16,
        "xPos": 16,
        "yPos": 44
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸŒ Multi-Region Instance Count",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "${resource.labels.location}",
                "plotType": "STACKED_AREA",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_SUM",
                      "groupByFields": [
                        "resource.labels.location"
                      ],
                      "perSeriesAligner": "ALIGN_MEAN"
                    },
                    "filter": "metric.type=\"run.googleapis.com/container/instance_count\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\""
                  }
                }
              }
            ],
            "yAxis": {
              "label": "Active Instances",
              "scale": "LINEAR"
            }
          }
        },
        "width": 16,
        "xPos": 32,
        "yPos": 44
      },
      {
        "height": 16,
        "widget": {
          "title": "ðŸ“Š Regional Latency Comparison",
          "xyChart": {
            "chartOptions": {
              "mode": "COLOR"
            },
            "dataSets": [
              {
                "legendTemplate": "ðŸ‡ºðŸ‡¸ US-Central P95",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_PERCENTILE_95",
                      "perSeriesAligner": "ALIGN_DELTA"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_latencies\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"us-central1\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸ—½ US-East P95",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_PERCENTILE_95",
                      "perSeriesAligner": "ALIGN_DELTA"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_latencies\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"us-east1\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸ‡ªðŸ‡º Europe P95",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_PERCENTILE_95",
                      "perSeriesAligner": "ALIGN_DELTA"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_latencies\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"europe-west1\""
                  }
                }
              },
              {
                "legendTemplate": "ðŸŒ Asia-Pacific P95",
                "plotType": "LINE",
                "targetAxis": "Y1",
                "timeSeriesQuery": {
                  "timeSeriesFilter": {
                    "aggregation": {
                      "alignmentPeriod": "300s",
                      "crossSeriesReducer": "REDUCE_PERCENTILE_95",
                      "perSeriesAligner": "ALIGN_DELTA"
                    },
                    "filter": "metric.type=\"run.googleapis.com/request_latencies\" AND resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND resource.labels.location=\"asia-southeast1\""
                  }
                }
              }
            ],
            "yAxis": {
              "label": "Latency (ms)",
              "scale": "LINEAR"
            }
          }
        },
        "width": 24,
        "yPos": 60
      },
      {
        "height": 16,
        "widget": {
          "logsPanel": {
            "filter": "resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"workout-parser-v2\" AND (jsonPayload.security_event!=\"\" OR jsonPayload.event_type=\"appcheck_metric\" OR severity>=WARNING)"
          },
          "title": "ðŸ“‹ Global Security Events & App Check Logs"
        },
        "width": 24,
        "xPos": 24,
        "yPos": 60
      }
    ]
  },
  "name": "projects/341666880405/dashboards/4fc2c0fa-8141-4031-a04d-09f512e2f6ae"
}
